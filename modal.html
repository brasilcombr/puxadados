<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Modal Carrinho</title>
  <style>
    body {font-family: Arial, sans-serif; margin:0;}
    .modal {
      display:block;
      position:fixed;
      z-index:9999;
      left:0;top:0;
      width:100%;height:100%;
      background:rgba(0,0,0,0.6);
    }
    .modal-content {
      background:#fff;
      margin:10% auto;
      padding:20px;
      border-radius:12px;
      width:90%;max-width:400px;
      text-align:center;
      box-shadow:0 8px 25px rgba(0,0,0,0.3);
      animation:fadeIn .3s ease;
    }
    .close {float:right;font-size:24px;cursor:pointer;}
    .modal-actions {margin-top:20px;display:flex;flex-direction:column;gap:10px;}
    .modal-actions button {
      padding:12px;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;
    }
    .modal-actions button:first-child {background:#555;color:#fff;}
    .modal-actions button:nth-child(2) {background:#ff4d87;color:#fff;}
    @keyframes fadeIn {from{opacity:0;transform:scale(.9)} to{opacity:1;transform:scale(1)}}
  </style>
</head>
<body>

<div id="modalCarrinho" class="modal">
  <div class="modal-content">
    <span class="close" onclick="fecharModal()">&times;</span>
    <p id="msg"><strong>✅ Produto adicionado ao carrinho!</strong></p>
    <div class="modal-actions">
      <button onclick="continuarComprando()">Continuar comprando</button>
      <button onclick="window.location.href='carrinho.html'">Ir para carrinho</button>
    </div>
  </div>
</div>

<script>
  // lê os parâmetros da URL (produto enviado pelo index)
  const params = new URLSearchParams(window.location.search);
  const nome = params.get("nome");
  const preco = params.get("preco");
  const img = params.get("img");

  if(nome && preco){
    let carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
    carrinho.push({nome, preco, img});
    localStorage.setItem("carrinho", JSON.stringify(carrinho));
    document.getElementById("msg").innerHTML = "✅ " + nome + " foi adicionado ao carrinho!";
  }

  function fecharModal(){
    window.history.back(); // volta pra página anterior
  }

  function continuarComprando(){
    window.location.href="index.html"; // volta pra loja
  }
</script>

</body>
</html>
